C51 COMPILER V9.00   ISR                                                                   03/09/2016 22:43:42 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE ISR
OBJECT MODULE PLACED IN .\Output\isr.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE Appcode\isr.c LARGE BROWSE INCDIR(.\Appcode;.\BSP;.\Common;.\Driver;.\Start
                    -up;.\Common\inc;.\Driver\inc) DEBUG OBJECTEXTEND PRINT(.\Listing\isr.lst) OBJECT(.\Output\isr.obj)

line level    source

   1          /********************************************************************
   2          作者：Songyimiao
   3          建立日期: 20151129
   4          版本：V2.0
   5          喵呜实验室版权所有
   6          /********************************************************************/
   7          #include "includes.h"
   8          
   9          /***************************************************************
  10          ** 作　  者: Songyimiao
  11          ** 官    网：http://www.miaowlabs.com
  12          ** 淘    宝：http://miaowlabs.taobao.com
  13          ** 日　  期: 2015年11月29日
  14          ** 函数名称: Timer1_Update
  15          ** 功能描述: 125hz中断服务函数            
  16          ** 输　  入:   
  17          ** 输　  出:   
  18          ** 备    注: 
  19          ********************喵呜实验室版权所有**************************
  20          ***************************************************************/
  21          void Timer1_Update(void) interrupt  3           //125hz
  22          { 
  23   1              
  24   1                      SampleInputVoltage();
  25   1                      AngleControl();
  26   1                              
  27   1                      GetMotorPulse();
  28   1                      
  29   1                      g_ucSpeedControlCount++;
  30   1                      if(g_ucSpeedControlCount>=10) 
  31   1                              {       
  32   2                                      EliminateDirectionDeviation();
  33   2                                      SpeedControl();                                 
  34   2                                      g_ucSpeedControlCount=0;
  35   2                              }
  36   1              
  37   1                      MotorOutput();  
  38   1      #if 0//DEBUG_UART  //调试启用 预编译命令
                      
                      OutData[0] = g_fCarAngle;
                      OutData[1] = g_fGyroAngleSpeed;
                      OutData[2] = g_fGravityAngle ;
                      OutData[3] = 45;  
              
                      OutPut_Data();          
                                        
              #endif                  
  48   1                      g_ucLEDCount++;
  49   1                      if(g_ucLEDCount >=125) //LED1灯1秒交替闪烁
  50   1                      {
  51   2                              g_ucLEDCount=0;
  52   2                              LED0=~LED0;
  53   2                      }
  54   1                               
C51 COMPILER V9.00   ISR                                                                   03/09/2016 22:43:42 PAGE 2   

  55   1      }
  56          
  57          void Timer0_Update(void) interrupt  1
  58          {
  59   1          
  60   1      //      g_ucSpeedCountCarry++;
  61   1      //      LED2=~LED2;
  62   1      }
  63                                           


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    108    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
